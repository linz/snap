================================================================================

                      PROGRAM SNAP  Version 2.7.14-f90eaf0

                       Survey Network Adjustment Program

                    Copyright: Land Information New Zealand
                              Author: Chris Crook
                       Version date: Sep  8 2018 08:54:01

================================================================================
                     Run at  8-SEP-2018 09:03:50 by ccrook



Program options read from testsr1.snp

Job: Regression tests - station recoding options


Solution type: 3d data checking


Coordinates file testsl.crd
      20 stations read

Data file 1: testsr1.dat
    Observations between 1998-05-01 and 2010-05-01
      29 latitudes

Data file 2: testsr2.dat
    Observations between 2000-05-01 and 2006-05-01
       5 latitudes
    Recoding stations:
    C_101     to ignored
    PEGRID    to *PEGGY   
    QQ        to QE3       after 2005-01-01
              to QE2      

Data file 3: testsr3.dat
    Observations between 2000-05-01 and 2000-05-01
       2 latitudes
    Recoding stations:
    D         to D        
    QQ        to QQ        before 2005-01-01
    Other stations to ignored



================================================================================
Regression tests - station recoding options                  8-SEP-2018 09:03:50

                                   INPUT DATA

================================================================================

BEGIN_JSON observations_types
{

  "LT": "latitude"
}

END_JSON observations_types

BEGIN_JSON observations
[
  {
  "obs":
    [
      {
        "obsid":1,
        "srcid":0,
        "from":"11",
        "from_hgt":0.0000,
        "to":null,
        "to_hgt":0.0000,
        "date":"2000-05-01 00:00:00",
        "type":"LT",
        "errfct":1.0000,
        "value": [-41.00463129],
        "error": [0.0002777778],
        "useobs":true,
        "file":"testsr1.dat",
        "file_line_no":10
      }
    ]
  },
  {
  "obs":
    [
      {
        "obsid":2,
        "srcid":0,
        "from":"OTHER1",
        "from_hgt":0.0000,
        "to":null,
        "to_hgt":0.0000,
        "date":"2000-05-01 00:00:00",
        "type":"LT",
        "errfct":1.0000,
        "value": [-41.00361844],
        "error": [0.0002777778],
        "useobs":true,
        "file":"testsr1.dat",
        "file_line_no":11
      }
    ]
  },
  {
  "obs":
    [
      {
        "obsid":3,
        "srcid":0,
        "from":"B",
        "from_hgt":0.0000,
        "to":null,
        "to_hgt":0.0000,
        "date":"2000-05-01 00:00:00",
        "type":"LT",
        "errfct":1.0000,
        "value": [-41.01006842],
        "error": [0.0002777778],
        "useobs":true,
        "file":"testsr1.dat",
        "file_line_no":12
      }
    ]
  },
  {
  "obs":
    [
      {
        "obsid":4,
        "srcid":0,
        "from":"PINTOFALE",
        "from_hgt":0.0000,
        "to":null,
        "to_hgt":0.0000,
        "date":"2000-05-01 00:00:00",
        "type":"LT",
        "errfct":1.0000,
        "value": [-41.01547663],
        "error": [0.0002777778],
        "useobs":true,
        "file":"testsr1.dat",
        "file_line_no":13
      }
    ]
  },
  {
  "obs":
    [
      {
        "obsid":5,
        "srcid":0,
        "from":"QQ",
        "from_hgt":0.0000,
        "to":null,
        "to_hgt":0.0000,
        "date":"2000-05-01 00:00:00",
        "type":"LT",
        "errfct":1.0000,
        "value": [-41.01482282],
        "error": [0.0002777778],
        "useobs":true,
        "file":"testsr1.dat",
        "file_line_no":14
      }
    ]
  },
  {
  "obs":
    [
      {
        "obsid":6,
        "srcid":0,
        "from":"C_100",
        "from_hgt":0.0000,
        "to":null,
        "to_hgt":0.0000,
        "date":"2000-05-01 00:00:00",
        "type":"LT",
        "errfct":1.0000,
        "value": [-41.01417023],
        "error": [0.0002777778],
        "useobs":true,
        "file":"testsr1.dat",
        "file_line_no":15
      }
    ]
  },
  {
  "obs":
    [
      {
        "obsid":7,
        "srcid":0,
        "from":"PEGS",
        "from_hgt":0.0000,
        "to":null,
        "to_hgt":0.0000,
        "date":"2000-05-01 00:00:00",
        "type":"LT",
        "errfct":1.0000,
        "value": [-41.00865945],
        "error": [0.0002777778],
        "useobs":true,
        "file":"testsr1.dat",
        "file_line_no":16
      }
    ]
  },
  {
  "obs":
    [
      {
        "obsid":8,
        "srcid":0,
        "from":"2",
        "from_hgt":0.0000,
        "to":null,
        "to_hgt":0.0000,
        "date":"2000-05-01 00:00:00",
        "type":"LT",
        "errfct":1.0000,
        "value": [-41.00353884],
        "error": [0.0002777778],
        "useobs":true,
        "file":"testsr1.dat",
        "file_line_no":17
      }
    ]
  },
  {
  "obs":
    [
      {
        "obsid":9,
        "srcid":0,
        "from":"100",
        "from_hgt":0.0000,
        "to":null,
        "to_hgt":0.0000,
        "date":"2000-05-01 00:00:00",
        "type":"LT",
        "errfct":1.0000,
        "value": [-41.00947093],
        "error": [0.0002777778],
        "useobs":true,
        "file":"testsr1.dat",
        "file_line_no":18
      }
    ]
  },
  {
  "obs":
    [
      {
        "obsid":10,
        "srcid":0,
        "from":"3",
        "from_hgt":0.0000,
        "to":null,
        "to_hgt":0.0000,
        "date":"2000-05-01 00:00:00",
        "type":"LT",
        "errfct":1.0000,
        "value": [-41.00703440],
        "error": [0.0002777778],
        "useobs":true,
        "file":"testsr1.dat",
        "file_line_no":19
      }
    ]
  },
  {
  "obs":
    [
      {
        "obsid":11,
        "srcid":0,
        "from":"D",
        "from_hgt":0.0000,
        "to":null,
        "to_hgt":0.0000,
        "date":"2000-05-01 00:00:00",
        "type":"LT",
        "errfct":1.0000,
        "value": [-41.01330386],
        "error": [0.0002777778],
        "useobs":true,
        "file":"testsr1.dat",
        "file_line_no":20
      }
    ]
  },
  {
  "obs":
    [
      {
        "obsid":12,
        "srcid":0,
        "from":"C_101",
        "from_hgt":0.0000,
        "to":null,
        "to_hgt":0.0000,
        "date":"2000-05-01 00:00:00",
        "type":"LT",
        "errfct":1.0000,
        "value": [-41.00679932],
        "error": [0.0002777778],
        "useobs":true,
        "file":"testsr1.dat",
        "file_line_no":21
      }
    ]
  },
  {
  "obs":
    [
      {
        "obsid":13,
        "srcid":0,
        "from":"C_10",
        "from_hgt":0.0000,
        "to":null,
        "to_hgt":0.0000,
        "date":"2000-05-01 00:00:00",
        "type":"LT",
        "errfct":1.0000,
        "value": [-41.01208304],
        "error": [0.0002777778],
        "useobs":true,
        "file":"testsr1.dat",
        "file_line_no":22
      }
    ]
  },
  {
  "obs":
    [
      {
        "obsid":14,
        "srcid":0,
        "from":"B00",
        "from_hgt":0.0000,
        "to":null,
        "to_hgt":0.0000,
        "date":"2000-05-01 00:00:00",
        "type":"LT",
        "errfct":1.0000,
        "value": [-41.00800000],
        "error": [0.0002777778],
        "useobs":true,
        "file":"testsr1.dat",
        "file_line_no":23
      }
    ]
  },
  {
  "obs":
    [
      {
        "obsid":15,
        "srcid":0,
        "from":"PIND",
        "from_hgt":0.0000,
        "to":null,
        "to_hgt":0.0000,
        "date":"2000-05-01 00:00:00",
        "type":"LT",
        "errfct":1.0000,
        "value": [-41.00800000],
        "error": [0.0002777778],
        "useobs":true,
        "file":"testsr1.dat",
        "file_line_no":24
      }
    ]
  },
  {
  "obs":
    [
      {
        "obsid":16,
        "srcid":0,
        "from":"A",
        "from_hgt":0.0000,
        "to":null,
        "to_hgt":0.0000,
        "date":"2000-05-01 00:00:00",
        "type":"LT",
        "errfct":1.0000,
        "value": [-41.00800000],
        "error": [0.0002777778],
        "useobs":true,
        "file":"testsr1.dat",
        "file_line_no":25
      }
    ]
  },
  {
  "obs":
    [
      {
        "obsid":18,
        "srcid":0,
        "from":"BXXXXX",
        "from_hgt":0.0000,
        "to":null,
        "to_hgt":0.0000,
        "date":"2000-05-01 00:00:00",
        "type":"LT",
        "errfct":1.0000,
        "value": [-41.00800000],
        "error": [0.0002777778],
        "useobs":true,
        "file":"testsr1.dat",
        "file_line_no":27
      }
    ]
  },
  {
  "obs":
    [
      {
        "obsid":19,
        "srcid":0,
        "from":"10",
        "from_hgt":0.0000,
        "to":null,
        "to_hgt":0.0000,
        "date":"2000-05-01 00:00:00",
        "type":"LT",
        "errfct":1.0000,
        "value": [-41.00800000],
        "error": [0.0002777778],
        "useobs":true,
        "file":"testsr1.dat",
        "file_line_no":28
      }
    ]
  },
  {
  "obs":
    [
      {
        "obsid":20,
        "srcid":0,
        "from":"C_11",
        "from_hgt":0.0000,
        "to":null,
        "to_hgt":0.0000,
        "date":"2000-05-01 00:00:00",
        "type":"LT",
        "errfct":1.0000,
        "value": [-41.00800000],
        "error": [0.0002777778],
        "useobs":true,
        "file":"testsr1.dat",
        "file_line_no":29
      }
    ]
  },
  {
  "obs":
    [
      {
        "obsid":21,
        "srcid":0,
        "from":"11",
        "from_hgt":0.0000,
        "to":null,
        "to_hgt":0.0000,
        "date":"1998-05-01 00:00:00",
        "type":"LT",
        "errfct":1.0000,
        "value": [-41.00463129],
        "error": [0.0002777778],
        "useobs":true,
        "file":"testsr1.dat",
        "file_line_no":33
      }
    ]
  },
  {
  "obs":
    [
      {
        "obsid":22,
        "srcid":0,
        "from":"1BC",
        "from_hgt":0.0000,
        "to":null,
        "to_hgt":0.0000,
        "date":"1998-05-01 00:00:00",
        "type":"LT",
        "errfct":1.0000,
        "value": [-41.00361844],
        "error": [0.0002777778],
        "useobs":true,
        "file":"testsr1.dat",
        "file_line_no":34
      }
    ]
  },
  {
  "obs":
    [
      {
        "obsid":23,
        "srcid":0,
        "from":"11",
        "from_hgt":0.0000,
        "to":null,
        "to_hgt":0.0000,
        "date":"2005-05-01 00:00:00",
        "type":"LT",
        "errfct":1.0000,
        "value": [-41.00463129],
        "error": [0.0002777778],
        "useobs":true,
        "file":"testsr1.dat",
        "file_line_no":38
      }
    ]
  },
  {
  "obs":
    [
      {
        "obsid":24,
        "srcid":0,
        "from":"1WHEN",
        "from_hgt":0.0000,
        "to":null,
        "to_hgt":0.0000,
        "date":"2005-05-01 00:00:00",
        "type":"LT",
        "errfct":1.0000,
        "value": [-41.00361844],
        "error": [0.0002777778],
        "useobs":true,
        "file":"testsr1.dat",
        "file_line_no":39
      }
    ]
  },
  {
  "obs":
    [
      {
        "obsid":25,
        "srcid":0,
        "from":"11",
        "from_hgt":0.0000,
        "to":null,
        "to_hgt":0.0000,
        "date":"2010-05-01 00:00:00",
        "type":"LT",
        "errfct":1.0000,
        "value": [-41.00463129],
        "error": [0.0002777778],
        "useobs":true,
        "file":"testsr1.dat",
        "file_line_no":43
      }
    ]
  },
  {
  "obs":
    [
      {
        "obsid":26,
        "srcid":0,
        "from":"1AD",
        "from_hgt":0.0000,
        "to":null,
        "to_hgt":0.0000,
        "date":"2010-05-01 00:00:00",
        "type":"LT",
        "errfct":1.0000,
        "value": [-41.00361844],
        "error": [0.0002777778],
        "useobs":true,
        "file":"testsr1.dat",
        "file_line_no":44
      }
    ]
  },
  {
  "obs":
    [
      {
        "obsid":27,
        "srcid":0,
        "from":"2_RC",
        "from_hgt":0.0000,
        "to":null,
        "to_hgt":0.0000,
        "date":"2002-05-01 00:00:00",
        "type":"LT",
        "errfct":1.0000,
        "value": [-41.00353884],
        "error": [0.0002777778],
        "useobs":true,
        "file":"testsr1.dat",
        "file_line_no":48
      }
    ]
  },
  {
  "obs":
    [
      {
        "obsid":28,
        "srcid":0,
        "from":"100",
        "from_hgt":0.0000,
        "to":null,
        "to_hgt":0.0000,
        "date":"2002-05-01 00:00:00",
        "type":"LT",
        "errfct":1.0000,
        "value": [-41.00947093],
        "error": [0.0002777778],
        "useobs":true,
        "file":"testsr1.dat",
        "file_line_no":49
      }
    ]
  },
  {
  "obs":
    [
      {
        "obsid":29,
        "srcid":0,
        "from":"3_RC",
        "from_hgt":0.0000,
        "to":null,
        "to_hgt":0.0000,
        "date":"2002-05-01 00:00:00",
        "type":"LT",
        "errfct":1.0000,
        "value": [-41.00703440],
        "error": [0.0002777778],
        "useobs":true,
        "file":"testsr1.dat",
        "file_line_no":50
      }
    ]
  },
  {
  "obs":
    [
      {
        "obsid":30,
        "srcid":0,
        "from":"D",
        "from_hgt":0.0000,
        "to":null,
        "to_hgt":0.0000,
        "date":"2002-05-01 00:00:00",
        "type":"LT",
        "errfct":1.0000,
        "value": [-41.01330386],
        "error": [0.0002777778],
        "useobs":true,
        "file":"testsr1.dat",
        "file_line_no":51
      }
    ]
  },
  {
  "obs":
    [
      {
        "obsid":31,
        "srcid":0,
        "from":"PINTOFALE",
        "from_hgt":0.0000,
        "to":null,
        "to_hgt":0.0000,
        "date":"2000-05-01 00:00:00",
        "type":"LT",
        "errfct":1.0000,
        "value": [-41.01547663],
        "error": [0.0002777778],
        "useobs":true,
        "file":"testsr2.dat",
        "file_line_no":10
      }
    ]
  },
  {
  "obs":
    [
      {
        "obsid":32,
        "srcid":0,
        "from":"PEGS",
        "from_hgt":0.0000,
        "to":null,
        "to_hgt":0.0000,
        "date":"2000-05-01 00:00:00",
        "type":"LT",
        "errfct":1.0000,
        "value": [-41.00865945],
        "error": [0.0002777778],
        "useobs":false,
        "file":"testsr2.dat",
        "file_line_no":11
      }
    ]
  },
  {
  "obs":
    [
      {
        "obsid":33,
        "srcid":0,
        "from":"QE2",
        "from_hgt":0.0000,
        "to":null,
        "to_hgt":0.0000,
        "date":"2000-05-01 00:00:00",
        "type":"LT",
        "errfct":1.0000,
        "value": [-41.01482282],
        "error": [0.0002777778],
        "useobs":true,
        "file":"testsr2.dat",
        "file_line_no":12
      }
    ]
  },
  {
  "obs":
    [
      {
        "obsid":35,
        "srcid":0,
        "from":"D",
        "from_hgt":0.0000,
        "to":null,
        "to_hgt":0.0000,
        "date":"2000-05-01 00:00:00",
        "type":"LT",
        "errfct":1.0000,
        "value": [-41.01330386],
        "error": [0.0002777778],
        "useobs":true,
        "file":"testsr2.dat",
        "file_line_no":14
      }
    ]
  },
  {
  "obs":
    [
      {
        "obsid":36,
        "srcid":0,
        "from":"QE3",
        "from_hgt":0.0000,
        "to":null,
        "to_hgt":0.0000,
        "date":"2006-05-01 00:00:00",
        "type":"LT",
        "errfct":1.0000,
        "value": [-41.01482282],
        "error": [0.0002777778],
        "useobs":true,
        "file":"testsr2.dat",
        "file_line_no":17
      }
    ]
  },
  {
  "obs":
    [
      {
        "obsid":39,
        "srcid":0,
        "from":"QQ",
        "from_hgt":0.0000,
        "to":null,
        "to_hgt":0.0000,
        "date":"2000-05-01 00:00:00",
        "type":"LT",
        "errfct":1.0000,
        "value": [-41.01482282],
        "error": [0.0002777778],
        "useobs":true,
        "file":"testsr3.dat",
        "file_line_no":12
      }
    ]
  },
  {
  "obs":
    [
      {
        "obsid":41,
        "srcid":0,
        "from":"D",
        "from_hgt":0.0000,
        "to":null,
        "to_hgt":0.0000,
        "date":"2000-05-01 00:00:00",
        "type":"LT",
        "errfct":1.0000,
        "value": [-41.01330386],
        "error": [0.0002777778],
        "useobs":true,
        "file":"testsr3.dat",
        "file_line_no":14
      }
    ]
  }
]

END_JSON observations



================================================================================
Regression tests - station recoding options                  8-SEP-2018 09:03:50

                                RECODED STATIONS

================================================================================

The following stations are being recoded as they are read from data files

     1         to 1BC       before 2000-01-01 09:30:34
               to 1WHEN     between 2005-02-01 and 2006-05-01
               to 1AD       after 2010-01-01 09:30:34
               to OTHER1   
     2         to 2_RC      after 2001-01-01
     3         to 3_RC      after 2001-01-01
     PEGGY     to PEGS     
     TUBBY     to ignored




================================================================================
Regression tests - station recoding options                  8-SEP-2018 09:03:50

                             DEFINITION OF PROBLEM

================================================================================

Solution type: 3d data checking


The following table lists the stations included in the adjustment.
Adjustment is signified by F (fixed), H (horizontal), V (vertical) or 3 (3d).


Station      Adj  Row  Name

11           F     -  4 BOLT
1            F     -  2 PIN
B            F     -  1 SPIK
PINTOFALE    F     -  4 BOLT
QQ           F     -  3 PIN
C_100        F     -  3 BOLT
PEGGY        F     -  4 -
2            F     -  2 PEG
100          F     -  2 PIN
3            F     -  4 BOLT
D            F     -  6 SPIK
C_101        F     -  3 SPIK
C_10         F     -  4 PIN
B00          F     -  10 BOLT
PIND         F     -  3 SPIK
A            F     -  - BOLT
TUBBY        F     -  2 -
BXXXXX       F     -  0 BOLT
10           F     -  6 SPIK
C_11         F     -  - BOLT
OTHER1       F     -  2 PIN
PEGS         F     -  4 -
1BC          F     -  2 PIN
1WHEN        F     -  2 PIN
1AD          F     -  2 PIN
2_RC         F     -  2 PEG
3_RC         F     -  4 BOLT
QE2          F     -  3 PIN
QE3          F     -  3 PIN


The following deformation has been applied
Applying coordinate system deformation model
LINZ deformation model
    NZGD2000 deformation model (20160701)
    Deformation model: NZGD2000 deformation model
    Datum: New Zealand Geodetic Datum 2000 (reference epoch 2000-01-01)
    Version: 20160701
    New Zealand Deformation Model.
    Defines the secular model (National Deformation Model)
    and patches for significant deformation events since 2000.
