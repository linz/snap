<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Windows-1252">
<meta name="keywords" content="station, coordinate, station coordinate file">
<title>Station coordinate file</title>
<link rel="stylesheet" type="text/css" href="../../snaphelp.css">
</head>

<body bgcolor="#FFFFFF" text="#000000">



<h1><a name="stn_crd_file"></a>Station coordinate file</h1>

<p>A station coordinate file is a data file containing a list of all the survey stations to be used in an adjustment. Each station is denoted by a code, and has a position.  A station may also have a short text description (usually the name of the stations), a station coordinate order, geoid information, and other user defined mark classifications (attributes) such as mark type. 
</p>
<p>
The coordinate file also defines the coordinate system to which the station positions are referenced. 
The coordinate system is defined by a coordinate system code such as &quot;NZGD2000&quot;.  The codes and coordinate systems they represent are define in the <a href="../../coordsys/index.html">coordinate system definition file</a>
</p>

<p>
The coordinate system may be a projection coordinate system, with positions defined in terms of easting, 
northing, and height, a geodetic (or geographic) system with positions defined in terms of longitude, latitude, and height, or a
geocentric system with positions defined in terms of X, Y, and Z coordinates relative to the centre of mass of the earth.
</p>

<p>The geoid information for each station can include both geoid height (undulation) and east and north 
deflection of the vertical.  It can be specified explicitly for each station, or implicitly by defining a 
geoid, or vertical datum, used to calculate these values for each station.
</p>

<p>A vertical datum is selected as part of the coordinate system code.
The coordinate system definition file defines a list of vertical datums,
such as NZVD2016.  The vertical datum code is appended to the coordinate system code to define
the station coordinate system.  For example the station file coordinate system could be NZGD2000/NZVD2016, 
meaning the coordinates are in terms of NZGD2000 using geoid information (geoid height and deflection of
the vertical) from the NZVD2016 reference surface.
</p>

<p>The height coordinate in the station coordinate file is assumed to be an ellipsoidal height if no 
vertical datum or geoid information is specified, or an orthometric height if there is a vertical datum.  
However this can be overridden by options in the station coordinate file.
</p>

<p>
Note that if the coordinate system defines a vertical datum and also explicit geoid information
for each station, then the geoid information will
be recalculated for each station when the station file is read by any of the snap programs. 
The geoid information
will be left unchanged for stations at which the vertical datum cannot be calculated (typically 
where the station is outside the range of geoid grids, or for deflections very near the edge of the grid).
When the geoid height is recalculated then either the ellipsoidal or orthometric height must be changed.
The height supplied in the coordinate file will be unaltered (that is, if the coordinate file contains ellipsoidal
heights then the orthometric height will be changed, and vice versa.
</p>

<p>For network adjustments using <a href="../../programs/snap/index.html">snap</a> the station positions 
need only be approximate except for the fixed stations in the adjustment,
as snap will calculate improved coordinates using the survey observations.
One of the outputs of snap is a revised coordinate file containing the adjusted coordinates.
</p>

<p>Approximate station coordinates can be generated from observation data 
using the program <a href="../../programs/dat2site/index.html">dat2site</a>.
</p>

<p>The station coordinate data may be modified by <a href="../../programs/snapconv/index.html">snapconv</a> 
(which changes the coordinate system) and <a href="../../programs/snapgeoid/index.html">snapgeoid</a> 
(which adds or removes geoid information) as well as by snap itself.
</p>

<p>The SNAP programs can use two basic formats for coordinate files - either the <a href="stn_file_format.html">SNAP</a> format, or a generic <a href="csv_stn_files.html">CSV delimited text</a> format.  The CSV format requires a <a href="../cmdcfg/csv_format_definition.html">format definition</a> file to specify how the station information is organised in the CSV file. 
</p>

<p>
Currently several of the SNAP utility programs only support SNAP format coordinate files.
In particular updated coordinate files generated by the programs are always in SNAP format.
</p>

<div class="SeeAlso">
<h3>See also:</h3>

<p><a href="stn_code.html">Station codes</a></p>

<p><a href="stn_file_format.html">SNAP station coordinate file format</a></p>

<p><a href="csv_stn_files.html">CSV format station coordinate files</a></p>

<p><a href="stn_crd_file_example.html">Examples of station coordinate files</a></p>

<p><a href="stn_offset_file_format.html">SNAP station coordinate offset file format</a></p>

<p><a href="../cmdcfg/cmd_coordinate_file.html">The coordinate_file command</a></p>

<p><a href="../../coordsys/crdsys_standard_list.html">Standard coordinate systems provided with SNAP</a></p>

</div>
</body>
</html>
