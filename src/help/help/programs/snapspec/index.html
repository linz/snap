<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=Windows-1252">
<meta name="keywords" content="snapspec, coordinate order, analysis, stations, coordinates, error ellipses">
<title>snapspec - calculate coordinate orders</title>
<link rel="stylesheet" type="text/css" href="../../css/snaphelp.css">
</head>

<body bgcolor="#FFFFFF" text="#000000">



<h1><a name="snapspec"></a>snapspec - calculate coordinate orders</h1>

<p>Snapspec is used to compute station coordinate orders based upon 
their relative and absolue accuracies.  It uses statistical information 
generated by <a href="../snap/index.html">snap</a> in conjunction with
a configuration file defining the required accuracies for various
orders of coordinates.  It then attempts to assign optimal orders to 
coordinates such that the specifications are met.
</p>
<p>
This program servers a similar function to the snap <a href="../../files/cmdcfg/cmd_test_specification.html">test_specification</a> command.  The main difference is that whereas the test_specification command checks that a defined group of stations meets an accuracy specification, 
the snapspec program tries to work out which stations could meet specifications.  
The method it uses to do this attempts to choose stations meeting the specification in a way which that gets the most stations meeting the specification.
</p>
<p>The program uses the same <a href="algorithm.html">algorithm</a> as used in Landonline to attribute
orders to stations (though unlike Landonline it may test both horizontal and 
vertical accuracies).
</p>
<p>Note that the SNAP adjustment program can test 
horizontal and 
vertical accuracy specifications for coordinates, but it cannot select
whichs stations to assign orders to.
</p>
<h2>Running snapspec</h2>
<p>
Snapspec is a command line utility run from a DOS prompt.  The syntax for the
command is: 
</p>
<p class="Commanddefinition">snapspec [options] binary_file [config_file] listing_file</p>
<p>where:</p>
<table class="CommandOptions">
<tr><td>
<p class="Commanddefinition">binary_file</p>
</td><td>
<p>is the name of the binary file generated by snap.  This is the same as the
name of the snap command file, but with extension .bin.  Note that the adjustment
used to create the binary file must include the "output_decomposition" or "output all_relative_covariances"
option in order for snapspec to be able to use it.
</p>
</td></tr>
<tr><td>
<p class="Commanddefinition">config_file</p>
</td><td>
<p>is an optional parameter specifying the name of the <a href="configuration.html">configuration file</a>
defining the specifications for each coordinate order.
By default snapspec uses a file called snapspec.cfg in the same directory 
as the snapspec program.
</p>
</td></tr>
<tr><td>
<p class="Commanddefinition">listing_file</p>
</td><td>
<p>is the name of the listing file to generate which will specify
the calculated coordinate orders.
</p>
</td></tr>
</table>
<p>Snapspec can take the following options:</p>
<table class="CommandOptions">
<tr><td>
<p class="Commanddefinition">-o&nbsp;order</p>
</td><td>
<p>Specifies the highest order to use in the tests.  For example specifying -o&nbsp;4 will assign orders 4 and below to stations, but not 1, 2, or 3.  Generally this should be an order lower than the lowest order of fixed station in the adjustment (so if order 1-4 stations are held fixed, then snapspec should be run with -o&nbsp;5.
</p>
</td></tr>
<tr><td>
<p class="Commanddefinition">-a</p>
</td><td>
<p>Instructs snapspec to determine the highest order to assign in the tests 
based upon the orders of the fixed stations controlling the adjustment.
Snapspec will determine the lowest order of fixed station and only
assign lower orders to adjusted stations.  This requires that the 
coordinate file used for the SNAP adjustment has station orders, and that
all the coordinate orders of fixed stations are defined in the
snapspec configuration file.
</p>
</td></tr>
<tr><td>
<p class="Commanddefinition">-m mode</p>
</td><td>
<p>
where mode can be one of "auto" (default), "horizontal", "vertical", or "3d".
The configuration may define both horizontal and vertical relative accuracy 
tests.  The mode determines which are applied.  By default snapspec examines 
the adjustment and chooses the mode based on which coordinates (horizontal and/or
vertical) are calculated, and what tests are defined in the configuration file.
</p>
</td></tr>

<tr><td>
<p class="Commanddefinition">-c&nbsp;filename</p>
</td><td>
<p>Specifies the name of an output CSV file containing the snapspec results. 
</p>
</td></tr>

<tr><td>
<p class="Commanddefinition">-u&nbsp;filename</p>
</td><td>
<p>Specifies the name of an output coordinate file containing the station
coordinates and updated orders.  
</p>
</td></tr>

<tr><td>
<p class="Commanddefinition">-f&nbsp;filename</p>
</td><td>
<p>specifies that the program should generate a separate 
file of stations coordinates for each 
order calculated.  The filename should not include an extension .. the 
program will append the order and extension to this name for each file
generated.
</p>
</td></tr>

<tr><td>
<p class="Commanddefinition">-v</p>
</td><td>
<p>Causes snapspec to create a cache file containing calculated covariance
information.  This will only happen if snapspec is using the normal equation
decomposition matrix and if it uses this to calculate the inverse.  In this case
with the -c option it will save the calculated inverse in a file with the same 
name as the binary file but extension &quot;.scc&quot;. When snapspec runs it
always checks for a cache file. The cache uses the adjustment run time to confirm
that the cache file is still current.
</p>
</td></tr>
</table>

<p>
For the -c, -u, and -f options the filename can be entered as &quot;-&quot;, in 
which case a default filename will be used based on the name of the snap binary 
file.
</p>

<div class="SeeAlso">
<h3>See also:</h3>
<p><a href="configuration.html">snapspec configuration file</a></p>
<p><a href="algorithm.html">snapspec algorithm</a></p>
<p><a href="../snap/index.html">snap</a></p>
<p><a href="../../files/crd/index.html">station coordinate files</a></p>
<p><a href="../../files/cmdcfg/index.html">command files</a></p>

</div>
</body>
</html>
