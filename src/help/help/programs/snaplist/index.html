<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1252">
<meta name="keywords" content="snaplist, adjustment, report, summary">
<link rel="stylesheet" type="text/css" href="../../css/snaphelp.css">

<title>snaplist - list adjustment results</title>



</head>

<body>



<h1>snaplist - list adjustment results</h1>

<h2>Introduction</h2>

<p>The snaplist program is used to generate
simple text reports of data and stations in the adjustment.  
It was initially developed to generate the information required for submitting GPS data on survey plans. 
These plans may require information such as
projection bearings and sea level distances.
snaplist derives these quantities from the GPS observations and creates
an ASCII data file. This file can then
be used as input for other software (such as CAD or word processing programs).
snaplist may also be used for listing other aspects of data from
adjustments. 
</p>
<p>
Currently snaplist is limited to reporting on GPS observations and on the stations in an adjustment.
</p>

<p>The format of the listing file generated is
defined by a table format definition file.
This is an ASCII file which defines the columns that will be printed in
the output listing file. snaplist takes
data from the binary file generated by SNAP and formats it into an output file
using the definitions in the format definition file.</p>

<h2>Running snaplist</h2>

<p>Before running snaplist you must create a
SNAP binary file (by doing a network adjustment) and a table format definition
file. You then run the program using the
command:</p>

<p class="Commanddefinition">snaplist binary_file [table_definition_file] output_file</p>

<p>In this command binary_file is the name of the SNAP binary file, table_definition_file is the name of the file defining the output table format, and output_file is the name of the file that will be created. The square brackets [] denote that the table
definition file name is optional - they are not part of the command line.</p>

<p>If the table definition file name is not
given then snaplist assumes that the name is snaplist. It also assumes the default extension .TBF
for the file. </p>

<p>snaplist will look in the following places
for the table definition file:</p>

<p class="BulletList">
the directory containing the
binary file</p>

<p class="BulletList">
the users home directory
(defined by the SNAPDIR environment variable)</p>

<p class="BulletList">
the directory in which the snaplist program is stored.</p>

<h2>The table format definition file</h2>

<p>The table definition file defines the
format of the output file that snaplist will create. Essentially this file contains one or more
table definitions, each of which defines several columns of data.</p>

<p>The format definition file is structured
similarly to a SNAP command file. Each
line in the file is a command consisting of one or more items separated by
blank characters. The first item on the
line is the name of the command. This
may be followed by one or more parameters.
For example the command may be delimiter, which defines the text to be
used between columns in the generated table, and the value may be tab,
meaning use a tab character. In the
format definition file this is entered simply as</p>

<p class="Commandexample">delimiter tab</p>

<p>The format definition file can contain
comment lines which are ignored by snaplist.
These are lines starting with the exclamation mark !.</p>

<p>Each output table is represented by a set
of commands between a table and end_table command. The main commands used to define the table
are the column command, which adds a column of output to the table and the
data command which specifies the data that will be extracted into the table.</p>

<p>The overall structure of the file is thus</p>

<p class="Commandexample">general
commands<br>
table<br>
 table format commands<br>
 column ...<br>
 column ...<br>
 ...<br>
end_table</p>

<p>The
following sections describe the formats of these commands</p>

<h3>General commands</h3>

<p>The following commands can occur outside a
table definition:</p>

<p class="Commanddefinition">text<br>
text
to be copied to the output file<br>
end_text</p>

<p class="Commanddescription">The text ..
end_text commands define text that is to be copied
directly to the output file without modification. Any amount of text can be included between
these commands. The end_text command must
start in the first column of the command definition file.</p>

<p class="Commanddefinition">angle_format format_definition</p>

<p class="Commanddescription">Defines the format used for angles
(such as bearings) in the output file.
Angles are output as degrees, minutes, and seconds. The format_definition defines the text that will occur after each component of the
angle. It is a string formatted as</p>

<p class="Commanddescexample">#ddd#mmm#sss</p>

<p class="Commanddescription">where ddd is the string printed after the degrees, mmm is the string printed after the minutes, and sss is the string printed after the seconds. The character # is any character that does
not occur in the strings and is used to delimit the three strings. Special
characters can be included in the strings using the string format described
below.</p>

<p class="Commanddefinition">table<br>
table
definition commands<br>
end_table</p>

<p class="Commanddescription">The table command prints a table
in the output file using the format defined by the table definition commands.</p>

<h3>Table definition commands</h3>

<p>The following commands are used within a
table definition to specify the layout of the table. The table definition must include a data,
delimiter, and column command.</p>

<p class="Commanddefinition">data data_source</p>

<p class="Commanddescription">Specifies the
data that will be printed in the table. Currently data_source must be gps (for gps observations) or stations (for the
stations).</p>

<p class="Commanddefinition">delimiter delimiter_string</p>

<p class="Commanddescription">Defines the text
that will be printed between each column of data. The delimiter string can be
tab, comma, blank, none or text expressed using the string format
described below.</p>

<p class="Commanddefinition">quote quote_string</p>

<p class="Commanddescription">Defines the text
that will be used on either side of quoted columns. (To specify that a column is
quoted see the definition of the column command.) The quote string is defined in the same way
as the delimiter_string.</p>

<p class="Commanddefinition">coordsys <i>code</i></p>

<p class="Commanddescription">Defines the coordinate system used
to represent coordinates in tables of station data.</p>

<p class="Commanddefinition">column name options</p>

<p class="Commanddescription">Adds a column to
the table. name defines the data item that will be listed in the column, and the options provide additional formatting information. For GPS data name can be one of the following:</p>

<table class="Commanddescription">
 <thead>
  <tr>
   <td>
   <p>Name</p>
   </td>
   <td>
   <p>Data item</p>
   </td>
  </tr>
 </thead>
 <tr>
  <td>
  <p>from</p>
  </td>
  <td>
  <p>First station code</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>to</p>
  </td>
  <td>
  <p>Second station code</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>obs_ell_dist</p>
  </td>
  <td>
  <p>Observed ellipsoidal distance</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>calc_ell_dist</p>
  </td>
  <td>
  <p>Calculated ellipsoidal distance</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>ell_dist_err</p>
  </td>
  <td>
  <p>Error in ellipsoidal distance</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>ppm_ell_dist_err</p>
  </td>
  <td>
  <p>Error in ellipsoidal distance as part per
  million</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>rf_ell_dist_err</p>
  </td>
  <td>
  <p>Error in ellipsoidal distance as a
  representative fraction</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>hor_vec_err</p>
  </td>
  <td>
  <p>Length of the error in horizontal
  component of vector</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>ppm_hor_vec_err</p>
  </td>
  <td>
  <p>Error in horizontal component of vector
  as ppm of horizontal length of vector</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>rf_hor_vec_err</p>
  </td>
  <td>
  <p>Error in the horizontal component of the
  vector as a representative fraction of the length of the horizontal vector.</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>obs_prj_brng</p>
  </td>
  <td>
  <p>Observed projection bearing</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>calc_prj_brng</p>
  </td>
  <td>
  <p>Calculated projection bearing</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>prj_brng_err</p>
  </td>
  <td>
  <p>Error in projection bearing (in seconds)</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>ppm_prj_brng_err</p>
  </td>
  <td>
  <p>Error in the projection bearing
  represented as part per million (or microradians)</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>rf_prj_brng_err</p>
  </td>
  <td>
  <p>Error in the projection bearing as a
  representative fraction</p>
  </td>
 </tr>
</table>

<p class="Commanddescription">For station data the name can be
one of</p>

<table class="Commanddescription">
 <tr>
  <td>
  <p>code</p>
  </td>
  <td>
  <p>The
  station code</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>name</p>
  </td>
  <td>
  <p>The
  station name</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>northing</p>
  </td>
  <td>
  <p>The
  station northing</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>easting</p>
  </td>
  <td>
  <p>The
  station easting</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>height</p>
  </td>
  <td>
  <p>The
  height of the station</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>h_max_error</p>
  </td>
  <td>
  <p>The
  length of the major axis of the error ellipse</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>h_min_error</p>
  </td>
  <td>
  <p>The
  length of the minor axis of the error ellipse</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>h_max_brng</p>
  </td>
  <td>
  <p>The
  orientation of the major axis</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>change_east</p>
  </td>
  <td>
  <p>The east
  component of the coordinate change</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>change_north</p>
  </td>
  <td>
  <p>The east
  component of the coordinate change</p>
  </td>
 </tr>
 <tr>
  <td>
  <p>change_up</p>
  </td>
  <td>
  <p>The east
  component of the coordinate change</p>
  </td>
 </tr>
</table>

<p class="Commanddescription"></p>

<p class="Commanddescription">The column command can include
options which affect the formatting of the column. An option is generally formatted as option=value. There should
be no spaces in or between the option and the value. The valid options are:</p>

<table class="Commanddescription">
<tr><td>
<p>width=###</p></td><td><p> Specifies
the number of characters used to print the column. If the data exceeds this width then the
column is expanded to accommodate it.</p>
</td></tr><tr><td>
<p>align=#</p></td><td><p> Defines
the alignment of the data in the within the column. # can be one of left, centre, or right</p>

</td></tr><tr><td>
<p>ndp=#</p></td><td><p> Defines
the number of decimal places that will be used for numeric columns</p>

</td></tr><tr><td>
<p>quote</p></td><td><p> Specifies
that the field will be enclosed between quote characters (defined by the quote
command).</p>

</td></tr><tr><td>
<p>prefix=###</p></td><td><p> Defines
a string that will be printed in front of the field (outside the quote
marks). The format of the string is
defined below</p>

</td></tr><tr><td>
<p>suffix=###</p></td><td><p> Defines
a string that will be printed after the field (outside the quote marks). The format of the string is defined below</p>

</td></tr><tr><td>
<p>header=###</p></td><td><p> Defines
the text that will be written as a label at the top of the column. The header can be written on more than one
line by including new line characters \n in the string. See below for more information about
formatting strings.</p>
</td></tr>
</table>

<h3>Text strings in commands</h3>

<p>Many of the commands and options define
text strings that will be printed in the output file. These can include non-printing or special
characters as well as normal text. When snaplist
reads the string it interprets the backslash (\) and underscore
(_) characters specially. </p>

<p>The underscore character is replaced by a
blank character. This is used when a
space character cannot be included in the string explicitly (for example in the
prefix=### option of the column command).</p>

<p>The backslash character introduces an
escape sequence. This is series of
characters which represent another character which cannot be explicitly put
into the command file. The escape
sequences that snaplist recognises are:</p>
<table class="NormalTable">
<tr><td>
<p>\b</p></td><td><p> prints
a blank character (equivalent to underscore)</p>
</td></tr><tr><td>

<p>\n</p></td><td><p> print
a new line</p>
</td></tr><tr><td>

<p>\t</p></td><td><p> print
a tab character</p>
</td></tr><tr><td>

<p>\x##</p></td><td><p> print
the character with hexadecimal value ##.
For example to include carriage return (0D hex) the string would be
\x0D.</p>
</td></tr><tr><td>

<p>\\</p></td><td><p> print
the backslash character</p>
</td></tr><tr><td>

<p>\_</p></td><td><p> print
the underscore character</p>
</td></tr>
</table>


</body>

</html>
